{"ast":null,"code":"import React,{useState,useCallback}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{onLogin}=_ref;const[isLogin,setIsLogin]=useState(true);const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const handleSubmit=useCallback(async e=>{e.preventDefault();setError('');setLoading(true);try{if(!username||!password){throw new Error('Both username and password are required, asshole!');}const endpoint=isLogin?'/api/login':'/api/register';const response=await axios.post(endpoint,{username,password});onLogin({id:response.data.user_id,username});}catch(error){var _error$response,_error$response$data;let errorMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||error.message||'Failed to authenticate!';setError(errorMessage);// Shake effect on error\nconst container=document.querySelector('.container');container.classList.add('shake');setTimeout(()=>{container.classList.remove('shake');},500);}finally{setLoading(false);}},[isLogin,username,password,onLogin]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Tic Tac Toe Shitshow v1\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{width:'100%',maxWidth:'400px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",value:username,onChange:e=>setUsername(e.target.value),placeholder:\"Enter your username, prick\",disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Enter your password, asshole\",disabled:loading})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button\",disabled:loading,children:isLogin?'Login, Asshole':'Sign Up, You Prick'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button purple\",onClick:()=>setIsLogin(!isLogin),disabled:loading,children:isLogin?'Need an account? Sign up!':'Have an account? Login!'})]})]});};export default/*#__PURE__*/React.memo(Login);","map":{"version":3,"names":["React","useState","useCallback","axios","jsx","_jsx","jsxs","_jsxs","Login","_ref","onLogin","isLogin","setIsLogin","username","setUsername","password","setPassword","error","setError","loading","setLoading","handleSubmit","e","preventDefault","Error","endpoint","response","post","id","data","user_id","_error$response","_error$response$data","errorMessage","message","container","document","querySelector","classList","add","setTimeout","remove","className","children","onSubmit","style","width","maxWidth","htmlFor","type","value","onChange","target","placeholder","disabled","onClick","memo"],"sources":["C:/Users/Majid/Downloads/ticktac/client/src/components/Login.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Login = ({ onLogin }) => {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = useCallback(async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      if (!username || !password) {\r\n        throw new Error('Both username and password are required, asshole!');\r\n      }\r\n\r\n      const endpoint = isLogin ? '/api/login' : '/api/register';\r\n      const response = await axios.post(endpoint, { username, password });\r\n      \r\n      onLogin({\r\n        id: response.data.user_id,\r\n        username\r\n      });\r\n      \r\n    } catch (error) {\r\n      let errorMessage = error.response?.data?.error || error.message || 'Failed to authenticate!';\r\n      setError(errorMessage);\r\n      \r\n      // Shake effect on error\r\n      const container = document.querySelector('.container');\r\n      container.classList.add('shake');\r\n      setTimeout(() => {\r\n        container.classList.remove('shake');\r\n      }, 500);\r\n      \r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [isLogin, username, password, onLogin]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 className=\"title\">Tic Tac Toe Shitshow v1</h1>\r\n      \r\n      <form onSubmit={handleSubmit} style={{ width: '100%', maxWidth: '400px' }}>\r\n        <div className=\"form-control\">\r\n          <label htmlFor=\"username\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"username\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            placeholder=\"Enter your username, prick\"\r\n            disabled={loading}\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"form-control\">\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            placeholder=\"Enter your password, asshole\"\r\n            disabled={loading}\r\n          />\r\n        </div>\r\n        \r\n        {error && <div className=\"error-message\">{error}</div>}\r\n        \r\n        <button \r\n          type=\"submit\" \r\n          className=\"button\"\r\n          disabled={loading}\r\n        >\r\n          {isLogin ? 'Login, Asshole' : 'Sign Up, You Prick'}\r\n        </button>\r\n        \r\n        <button \r\n          type=\"button\" \r\n          className=\"button purple\"\r\n          onClick={() => setIsLogin(!isLogin)}\r\n          disabled={loading}\r\n        >\r\n          {isLogin ? 'Need an account? Sign up!' : 'Have an account? Login!'}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(Login); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}