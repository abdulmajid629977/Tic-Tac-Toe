{"ast":null,"code":"import React,{useState,useCallback}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const Home=_ref=>{let{user,onLogout}=_ref;const[showJoinRoom,setShowJoinRoom]=useState(false);const[roomCode,setRoomCode]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const navigate=useNavigate();const handleCreateRoom=useCallback(async()=>{setError('');setLoading(true);try{const response=await axios.post('/api/create-room');const{room_code}=response.data;navigate(`/game/${room_code}`);}catch(error){var _error$response,_error$response$data;setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to create room!');}finally{setLoading(false);}},[navigate]);const handleJoinRoom=useCallback(async e=>{e.preventDefault();setError('');setLoading(true);try{if(!roomCode||roomCode.length!==6){throw new Error('Enter a valid 6-digit room code, you blind fuck!');}// Room validity will be checked on the Game component\nnavigate(`/game/${roomCode}`);}catch(error){setError(error.message);}finally{setLoading(false);}},[roomCode,navigate]);const handlePlayAI=useCallback(()=>{navigate('/ai-game');},[navigate]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"title\",children:[\"Welcome to the Shitshow\",user?`, ${user.username}`:'',\"!\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:handleCreateRoom,disabled:loading,children:\"Create Room\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button purple\",onClick:()=>setShowJoinRoom(prev=>!prev),disabled:loading,children:showJoinRoom?'Hide Join Form':'Join Room'}),showJoinRoom&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleJoinRoom,style:{width:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:roomCode,onChange:e=>setRoomCode(e.target.value.slice(0,6)),placeholder:\"Enter 6-digit room code\",maxLength:6,disabled:loading})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button\",disabled:loading,children:\"Join This Room\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:handlePlayAI,disabled:loading,children:\"Play vs AI\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button purple\",onClick:onLogout,disabled:loading,style:{marginTop:'20px'},children:\"Logout\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error})]});};export default/*#__PURE__*/React.memo(Home);","map":{"version":3,"names":["React","useState","useCallback","useNavigate","axios","jsxs","_jsxs","jsx","_jsx","Home","_ref","user","onLogout","showJoinRoom","setShowJoinRoom","roomCode","setRoomCode","error","setError","loading","setLoading","navigate","handleCreateRoom","response","post","room_code","data","_error$response","_error$response$data","handleJoinRoom","e","preventDefault","length","Error","message","handlePlayAI","className","children","username","onClick","disabled","prev","onSubmit","style","width","type","value","onChange","target","slice","placeholder","maxLength","marginTop","memo"],"sources":["C:/Users/Majid/Downloads/ticktac/client/src/components/Home.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst Home = ({ user, onLogout }) => {\r\n  const [showJoinRoom, setShowJoinRoom] = useState(false);\r\n  const [roomCode, setRoomCode] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleCreateRoom = useCallback(async () => {\r\n    setError('');\r\n    setLoading(true);\r\n    \r\n    try {\r\n      const response = await axios.post('/api/create-room');\r\n      const { room_code } = response.data;\r\n      navigate(`/game/${room_code}`);\r\n    } catch (error) {\r\n      setError(error.response?.data?.error || 'Failed to create room!');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [navigate]);\r\n\r\n  const handleJoinRoom = useCallback(async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setLoading(true);\r\n    \r\n    try {\r\n      if (!roomCode || roomCode.length !== 6) {\r\n        throw new Error('Enter a valid 6-digit room code, you blind fuck!');\r\n      }\r\n      \r\n      // Room validity will be checked on the Game component\r\n      navigate(`/game/${roomCode}`);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [roomCode, navigate]);\r\n\r\n  const handlePlayAI = useCallback(() => {\r\n    navigate('/ai-game');\r\n  }, [navigate]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 className=\"title\">Welcome to the Shitshow{user ? `, ${user.username}` : ''}!</h1>\r\n      \r\n      <div className=\"menu\">\r\n        <button \r\n          className=\"button\" \r\n          onClick={handleCreateRoom}\r\n          disabled={loading}\r\n        >\r\n          Create Room\r\n        </button>\r\n        \r\n        <button \r\n          className=\"button purple\" \r\n          onClick={() => setShowJoinRoom(prev => !prev)}\r\n          disabled={loading}\r\n        >\r\n          {showJoinRoom ? 'Hide Join Form' : 'Join Room'}\r\n        </button>\r\n        \r\n        {showJoinRoom && (\r\n          <form onSubmit={handleJoinRoom} style={{ width: '100%' }}>\r\n            <div className=\"form-control\">\r\n              <input\r\n                type=\"text\"\r\n                value={roomCode}\r\n                onChange={(e) => setRoomCode(e.target.value.slice(0, 6))}\r\n                placeholder=\"Enter 6-digit room code\"\r\n                maxLength={6}\r\n                disabled={loading}\r\n              />\r\n            </div>\r\n            <button \r\n              type=\"submit\" \r\n              className=\"button\"\r\n              disabled={loading}\r\n            >\r\n              Join This Room\r\n            </button>\r\n          </form>\r\n        )}\r\n        \r\n        <button \r\n          className=\"button\" \r\n          onClick={handlePlayAI}\r\n          disabled={loading}\r\n        >\r\n          Play vs AI\r\n        </button>\r\n        \r\n        <button \r\n          className=\"button purple\" \r\n          onClick={onLogout}\r\n          disabled={loading}\r\n          style={{ marginTop: '20px' }}\r\n        >\r\n          Logout\r\n        </button>\r\n      </div>\r\n      \r\n      {error && <div className=\"error-message\">{error}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(Home); "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CACpD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE1B,KAAM,CAAAC,IAAI,CAAGC,IAAA,EAAwB,IAAvB,CAAEC,IAAI,CAAEC,QAAS,CAAC,CAAAF,IAAA,CAC9B,KAAM,CAACG,YAAY,CAAEC,eAAe,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACkB,OAAO,CAAEC,UAAU,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAAoB,QAAQ,CAAGlB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAmB,gBAAgB,CAAGpB,WAAW,CAAC,SAAY,CAC/CgB,QAAQ,CAAC,EAAE,CAAC,CACZE,UAAU,CAAC,IAAI,CAAC,CAEhB,GAAI,CACF,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAnB,KAAK,CAACoB,IAAI,CAAC,kBAAkB,CAAC,CACrD,KAAM,CAAEC,SAAU,CAAC,CAAGF,QAAQ,CAACG,IAAI,CACnCL,QAAQ,CAAC,SAASI,SAAS,EAAE,CAAC,CAChC,CAAE,MAAOR,KAAK,CAAE,KAAAU,eAAA,CAAAC,oBAAA,CACdV,QAAQ,CAAC,EAAAS,eAAA,CAAAV,KAAK,CAACM,QAAQ,UAAAI,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBD,IAAI,UAAAE,oBAAA,iBAApBA,oBAAA,CAAsBX,KAAK,GAAI,wBAAwB,CAAC,CACnE,CAAC,OAAS,CACRG,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACC,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAQ,cAAc,CAAG3B,WAAW,CAAC,KAAO,CAAA4B,CAAC,EAAK,CAC9CA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBb,QAAQ,CAAC,EAAE,CAAC,CACZE,UAAU,CAAC,IAAI,CAAC,CAEhB,GAAI,CACF,GAAI,CAACL,QAAQ,EAAIA,QAAQ,CAACiB,MAAM,GAAK,CAAC,CAAE,CACtC,KAAM,IAAI,CAAAC,KAAK,CAAC,kDAAkD,CAAC,CACrE,CAEA;AACAZ,QAAQ,CAAC,SAASN,QAAQ,EAAE,CAAC,CAC/B,CAAE,MAAOE,KAAK,CAAE,CACdC,QAAQ,CAACD,KAAK,CAACiB,OAAO,CAAC,CACzB,CAAC,OAAS,CACRd,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACL,QAAQ,CAAEM,QAAQ,CAAC,CAAC,CAExB,KAAM,CAAAc,YAAY,CAAGjC,WAAW,CAAC,IAAM,CACrCmB,QAAQ,CAAC,UAAU,CAAC,CACtB,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,mBACEf,KAAA,QAAK8B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB/B,KAAA,OAAI8B,SAAS,CAAC,OAAO,CAAAC,QAAA,EAAC,yBAAuB,CAAC1B,IAAI,CAAG,KAAKA,IAAI,CAAC2B,QAAQ,EAAE,CAAG,EAAE,CAAC,GAAC,EAAI,CAAC,cAErFhC,KAAA,QAAK8B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB7B,IAAA,WACE4B,SAAS,CAAC,QAAQ,CAClBG,OAAO,CAAEjB,gBAAiB,CAC1BkB,QAAQ,CAAErB,OAAQ,CAAAkB,QAAA,CACnB,aAED,CAAQ,CAAC,cAET7B,IAAA,WACE4B,SAAS,CAAC,eAAe,CACzBG,OAAO,CAAEA,CAAA,GAAMzB,eAAe,CAAC2B,IAAI,EAAI,CAACA,IAAI,CAAE,CAC9CD,QAAQ,CAAErB,OAAQ,CAAAkB,QAAA,CAEjBxB,YAAY,CAAG,gBAAgB,CAAG,WAAW,CACxC,CAAC,CAERA,YAAY,eACXP,KAAA,SAAMoC,QAAQ,CAAEb,cAAe,CAACc,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAAP,QAAA,eACvD7B,IAAA,QAAK4B,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3B7B,IAAA,UACEqC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE/B,QAAS,CAChBgC,QAAQ,CAAGjB,CAAC,EAAKd,WAAW,CAACc,CAAC,CAACkB,MAAM,CAACF,KAAK,CAACG,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CACzDC,WAAW,CAAC,yBAAyB,CACrCC,SAAS,CAAE,CAAE,CACbX,QAAQ,CAAErB,OAAQ,CACnB,CAAC,CACC,CAAC,cACNX,IAAA,WACEqC,IAAI,CAAC,QAAQ,CACbT,SAAS,CAAC,QAAQ,CAClBI,QAAQ,CAAErB,OAAQ,CAAAkB,QAAA,CACnB,gBAED,CAAQ,CAAC,EACL,CACP,cAED7B,IAAA,WACE4B,SAAS,CAAC,QAAQ,CAClBG,OAAO,CAAEJ,YAAa,CACtBK,QAAQ,CAAErB,OAAQ,CAAAkB,QAAA,CACnB,YAED,CAAQ,CAAC,cAET7B,IAAA,WACE4B,SAAS,CAAC,eAAe,CACzBG,OAAO,CAAE3B,QAAS,CAClB4B,QAAQ,CAAErB,OAAQ,CAClBwB,KAAK,CAAE,CAAES,SAAS,CAAE,MAAO,CAAE,CAAAf,QAAA,CAC9B,QAED,CAAQ,CAAC,EACN,CAAC,CAELpB,KAAK,eAAIT,IAAA,QAAK4B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEpB,KAAK,CAAM,CAAC,EACnD,CAAC,CAEV,CAAC,CAED,2BAAejB,KAAK,CAACqD,IAAI,CAAC5C,IAAI,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}