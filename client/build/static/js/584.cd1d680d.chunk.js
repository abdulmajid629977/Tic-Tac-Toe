"use strict";(self.webpackChunkticktac_client=self.webpackChunkticktac_client||[]).push([[584],{584:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var t=a(43),r=a(213),n=a(579);const l=e=>{let{onLogin:s}=e;const[a,l]=(0,t.useState)(!0),[o,i]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[m,p]=(0,t.useState)(!1),v=(0,t.useCallback)((async e=>{e.preventDefault(),h(""),p(!0);try{if(!o||!c)throw new Error("Both username and password are required, asshole!");const e=a?"/api/login":"/api/register",t=await r.A.post(e,{username:o,password:c});s({id:t.data.user_id,username:o})}catch(u){var t,n;let s=(null===(t=u.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||u.message||"Failed to authenticate!";h(s);const a=document.querySelector(".container");a.classList.add("shake"),setTimeout((()=>{a.classList.remove("shake")}),500)}finally{p(!1)}}),[a,o,c,s]);return(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("h1",{className:"title",children:"Tic Tac Toe Shitshow v1"}),(0,n.jsxs)("form",{onSubmit:v,style:{width:"100%",maxWidth:"400px"},children:[(0,n.jsxs)("div",{className:"form-control",children:[(0,n.jsx)("label",{htmlFor:"username",children:"Username"}),(0,n.jsx)("input",{type:"text",id:"username",value:o,onChange:e=>i(e.target.value),placeholder:"Enter your username, prick",disabled:m})]}),(0,n.jsxs)("div",{className:"form-control",children:[(0,n.jsx)("label",{htmlFor:"password",children:"Password"}),(0,n.jsx)("input",{type:"password",id:"password",value:c,onChange:e=>d(e.target.value),placeholder:"Enter your password, asshole",disabled:m})]}),u&&(0,n.jsx)("div",{className:"error-message",children:u}),(0,n.jsx)("button",{type:"submit",className:"button",disabled:m,children:a?"Login, Asshole":"Sign Up, You Prick"}),(0,n.jsx)("button",{type:"button",className:"button purple",onClick:()=>l(!a),disabled:m,children:a?"Need an account? Sign up!":"Have an account? Login!"})]})]})},o=t.memo(l)}}]);
//# sourceMappingURL=584.cd1d680d.chunk.js.map